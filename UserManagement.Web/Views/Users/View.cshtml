@* File: View.cshtml â€” user details *@
@model UserManagement.Web.Models.Users.UserDetailViewModel

@* This page shows all the info for a single user and links to logs *@

<h2>User Details</h2>

<div class="card">
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">ID:</dt>
            <dd class="col-sm-9">@Model.Id</dd>
            
            <dt class="col-sm-3">Forename:</dt>
            <dd class="col-sm-9">@Model.Forename</dd>
            
            <dt class="col-sm-3">Surname:</dt>
            <dd class="col-sm-9">@Model.Surname</dd>
            
            <dt class="col-sm-3">Email:</dt>
            <dd class="col-sm-9">@Model.Email</dd>
            
            <dt class="col-sm-3">Date of Birth:</dt>
            <dd class="col-sm-9">@(Model.DateOfBirth?.ToString("dd/MM/yyyy") ?? "Not specified")</dd>
            
            <dt class="col-sm-3">Account Status:</dt>
            <dd class="col-sm-9">
                <span class="badge @(Model.IsActive ? "bg-success" : "bg-secondary")">
                    @(Model.IsActive ? "Active" : "Inactive")
                </span>
            </dd>
        </dl>
    </div>
</div>

@* Recent logs for this user *@
<h3 class="mt-4">Recent Activity</h3>
@await Html.PartialAsync("_UserRecentLogs", Model)

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
    <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
    <a asp-action="List" class="btn btn-secondary">Back to List</a>
    <a asp-controller="Logs" asp-action="ForUser" asp-route-userId="@Model.Id" class="btn btn-outline-secondary">View Logs</a>
</div>
